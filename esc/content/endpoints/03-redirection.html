
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Redirection Endpoint Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="04-scope.html" />
    
    
    <link rel="prev" href="02-response-type.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="http://www.keybridgewireless.com" target="_blank" class="custom-link">Key Bridge Wireless</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Introductory Concepts</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../introduction/independence.html">
            
                <a href="../introduction/independence.html">
            
                    
                        <b>2.1.</b>
                    
                    SAS-ESC Independence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../introduction/peering-protocol-independence.html">
            
                <a href="../introduction/peering-protocol-independence.html">
            
                    
                        <b>2.2.</b>
                    
                    SAS-ESC Peering Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../introduction/generic-workflow.html">
            
                <a href="../introduction/generic-workflow.html">
            
                    
                        <b>2.3.</b>
                    
                    Generic SAS Peering Workflow
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Authentication and Authorization</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../authorization-registration.html">
            
                <a href="../authorization-registration.html">
            
                    
                        <b>3.1.</b>
                    
                    SAS Registration (Authentication)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../authorization.html">
            
                <a href="../authorization.html">
            
                    
                        <b>3.2.</b>
                    
                    Authorization Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../authorization-roles.html">
            
                <a href="../authorization-roles.html">
            
                    
                        <b>3.2.1.</b>
                    
                    Roles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../authorization-protocol-flow.html">
            
                <a href="../authorization-protocol-flow.html">
            
                    
                        <b>3.2.2.</b>
                    
                    Abstract OAuth 2.0 Protocol Flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../authorization-grant.html">
            
                <a href="../authorization-grant.html">
            
                    
                        <b>3.2.3.</b>
                    
                    Authorization Grant
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../authorization-implicit.html">
            
                <a href="../authorization-implicit.html">
            
                    
                        <b>3.2.4.</b>
                    
                    Implicit Flow - Authorization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.4.1" data-path="../authorization-implicit-request.html">
            
                <a href="../authorization-implicit-request.html">
            
                    
                        <b>3.2.4.1.</b>
                    
                    Request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4.2" data-path="../authorization-implicit-response.html">
            
                <a href="../authorization-implicit-response.html">
            
                    
                        <b>3.2.4.2.</b>
                    
                    Response
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.4.2.1" data-path="../authorization-implicit-response-error.html">
            
                <a href="../authorization-implicit-response-error.html">
            
                    
                        <b>3.2.4.2.1.</b>
                    
                    Error
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2.5" data-path="./">
            
                <a href="./">
            
                    
                        <b>3.2.5.</b>
                    
                    Protocol Endpoints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.5.1" data-path="01-authorization-endpoint.html">
            
                <a href="01-authorization-endpoint.html">
            
                    
                        <b>3.2.5.1.</b>
                    
                    Authorization Endpoint
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.5.1.1" data-path="02-response-type.html">
            
                <a href="02-response-type.html">
            
                    
                        <b>3.2.5.1.1.</b>
                    
                    Response Type
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.2.5.1.2" data-path="03-redirection.html">
            
                <a href="03-redirection.html">
            
                    
                        <b>3.2.5.1.2.</b>
                    
                    Redirection Endpoint
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2.5.2" data-path="04-scope.html">
            
                <a href="04-scope.html">
            
                    
                        <b>3.2.5.2.</b>
                    
                    Access Token Scope
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Message Exchange, Encoding, Transport</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../message-exchange-flow-and-message-types.html">
            
                <a href="../message-exchange-flow-and-message-types.html">
            
                    
                        <b>4.1.</b>
                    
                    Message exchange flow and message types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../message-encoding-and-transport.html">
            
                <a href="../message-encoding-and-transport.html">
            
                    
                        <b>4.2.</b>
                    
                    Message encoding and transport
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Message Payload Content</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../sas-esc-messages/messageContainer.html">
            
                <a href="../sas-esc-messages/messageContainer.html">
            
                    
                        <b>5.1.</b>
                    
                    SAS-ESC Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../sas-esc-messages/messageContainer.html">
            
                <a href="../sas-esc-messages/messageContainer.html">
            
                    
                        <b>5.1.1.</b>
                    
                    Message Container
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../sas-esc-messages/sasRegistrationMessage.html">
            
                <a href="../sas-esc-messages/sasRegistrationMessage.html">
            
                    
                        <b>5.1.2.</b>
                    
                    Payload Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.2.1" data-path="../sas-esc-messages/sasRegistrationMessage.html">
            
                <a href="../sas-esc-messages/sasRegistrationMessage.html">
            
                    
                        <b>5.1.2.1.</b>
                    
                    SAS Registration Message
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.2.1.1" data-path="../sas-esc-messages/sasRegistrationMessage-enhancements.html">
            
                <a href="../sas-esc-messages/sasRegistrationMessage-enhancements.html">
            
                    
                        <b>5.1.2.1.1.</b>
                    
                    EscSensorData Enhancement
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.2.2" data-path="../sas-esc-messages/escInformationUpdate.html">
            
                <a href="../sas-esc-messages/escInformationUpdate.html">
            
                    
                        <b>5.1.2.2.</b>
                    
                    ESC Information Update Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.3" data-path="../sas-esc-messages/dpaActivationStatus.html">
            
                <a href="../sas-esc-messages/dpaActivationStatus.html">
            
                    
                        <b>5.1.2.3.</b>
                    
                    DPA Activation Status Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.4" data-path="../sas-esc-messages/keepAlive.html">
            
                <a href="../sas-esc-messages/keepAlive.html">
            
                    
                        <b>5.1.2.4.</b>
                    
                    Keep Alive Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.5" data-path="../sas-esc-messages/sasDeregistration.html">
            
                <a href="../sas-esc-messages/sasDeregistration.html">
            
                    
                        <b>5.1.2.5.</b>
                    
                    SAS Deregistration Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Annexes</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../dpa-state-machine.html">
            
                <a href="../dpa-state-machine.html">
            
                    
                        <b>6.1.</b>
                    
                    DPA State Machine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../security.html">
            
                <a href="../security.html">
            
                    
                        <b>6.2.</b>
                    
                    Security Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../urlencoded.html">
            
                <a href="../urlencoded.html">
            
                    
                        <b>6.3.</b>
                    
                    application/x-www-form-urlencoded Media Type
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Glossary</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../abbreviations.html">
            
                <a href="../abbreviations.html">
            
                    
                        <b>7.1.</b>
                    
                    Abbreviations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../GLOSSARY.html">
            
                <a href="../../GLOSSARY.html">
            
                    
                        <b>7.2.</b>
                    
                    Definitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../../references.html">
            
                <a href="../../references.html">
            
                    
                        <b>7.3.</b>
                    
                    References
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Redirection Endpoint</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><style>
body {
  counter-reset: h1 15;
}
</style></p>
<h2 id="redirection-endpoint">Redirection Endpoint</h2>
<p>   After completing its interaction with the resource owner, the
   authorization server directs the resource owner&apos;s user-agent back to
   the client.  The authorization server redirects the user-agent to the
   client&apos;s redirection endpoint previously established with the
   authorization server during the client registration process or when
   making the authorization request.</p>
<p>   The redirection endpoint URI MUST be an absolute URI as defined by
   <a href="https://tools.ietf.org/html/rfc3986#section-4.3" target="_blank">[RFC3986] Section 4.3</a>.  The endpoint URI MAY include an
   <a href="urlencoded.md">&quot;application/x-www-form-urlencoded&quot;</a> query
   component <a href="https://tools.ietf.org/html/rfc3986#section-3.4" target="_blank">([RFC3986] Section 3.4)</a>, which MUST be retained when adding
   additional query parameters.  The endpoint URI MUST NOT include a
   fragment component.</p>
<h3 id="3121--endpoint-request-confidentiality">3.1.2.1.  Endpoint Request Confidentiality</h3>
<p>   The redirection endpoint SHOULD require the use of TLS as described
   in Section 1.6 when the requested response type is &quot;code&quot; or &quot;token&quot;,
   or when the redirection request will result in the transmission of
   sensitive credentials over an open network.  This specification does
   not mandate the use of TLS because at the time of this writing,
   requiring clients to deploy TLS is a significant hurdle for many
   client developers.  If TLS is not available, the authorization server
   SHOULD warn the resource owner about the insecure endpoint prior to
   redirection (e.g., display a message during the authorization
   request).</p>
<p>   Lack of transport-layer security can have a severe impact on the
   security of the client and the protected resources it is authorized
   to access.  The use of transport-layer security is particularly
   critical when the authorization process is used as a form of
   delegated end-user authentication by the client (e.g., third-party
   sign-in service).</p>
<h3 id="registration-requirements">Registration Requirements</h3>
<p>   The authorization server MUST require the following clients to
   register their redirection endpoint:</p>
<ul>
<li><p>Public clients.</p>
</li>
<li><p>Confidential clients utilizing the implicit grant type.</p>
<p>The authorization server SHOULD require all clients to register their
redirection endpoint prior to utilizing the authorization endpoint.</p>
<p>The authorization server SHOULD require the client to provide the
complete redirection URI (the client MAY use the &quot;state&quot; request
parameter to achieve per-request customization).  If requiring the
registration of the complete redirection URI is not possible, the
authorization server SHOULD require the registration of the URI
scheme, authority, and path (allowing the client to dynamically vary
only the query component of the redirection URI when requesting
authorization).</p>
<p>The authorization server MAY allow the client to register multiple
redirection endpoints.</p>
<p>Lack of a redirection URI registration requirement can enable an
attacker to use the authorization endpoint as an open redirector. </p>
<!-- as described in Section 10.15. -->
</li>
</ul>
<h4 id="open-redirectors-security-consideration">Open Redirectors (Security Consideration)</h4>
<p>   The authorization server, authorization endpoint, and client
   redirection endpoint can be improperly configured and operate as open
   redirectors.  An open redirector is an endpoint using a parameter to
   automatically redirect a user-agent to the location specified by the
   parameter value without any validation.</p>
<p>   Open redirectors can be used in phishing attacks, or by an attacker
   to get end-users to visit malicious sites by using the URI authority
   component of a familiar and trusted destination.  In addition, if the
   authorization server allows the client to register only part of the
   redirection URI, an attacker can use an open redirector operated by the client to construct a redirection URI that will pass the
   authorization server validation but will send the authorization code
   or access token to an endpoint under the control of the attacker.</p>
<h3 id="dynamic-configuration">Dynamic Configuration</h3>
<p>   If multiple redirection URIs have been registered, if only part of
   the redirection URI has been registered, or if no redirection URI has
   been registered, the client MUST include a redirection URI with the
   authorization request using the &quot;redirect_uri&quot; request parameter.</p>
<p>   When a redirection URI is included in an authorization request, the
   authorization server MUST compare and match the value received
   against at least one of the registered redirection URIs (or URI
   components) as defined in <a href="https://tools.ietf.org/html/rfc3986#section-6" target="_blank">[RFC3986] Section 6</a>, if any redirection
   URIs were registered.  If the client registration included the full
   redirection URI, the authorization server MUST compare the two URIs
   using simple string comparison as defined in <a href="https://tools.ietf.org/html/rfc3986#section-6.2.1" target="_blank">[RFC3986] Section 6.2.1</a>.</p>
<h3 id="invalid-endpoint">Invalid Endpoint</h3>
<p>   If an authorization request fails validation due to a missing,
   invalid, or mismatching redirection URI, the authorization server
   SHOULD inform the resource owner of the error and MUST NOT
   automatically redirect the user-agent to the invalid redirection URI.</p>
<h3 id="endpoint-content">Endpoint Content</h3>
<p>   The redirection request to the client&apos;s endpoint typically results in
   an HTML document response, processed by the user-agent.  If the HTML
   response is served directly as the result of the redirection request,
   any script included in the HTML document will execute with full
   access to the redirection URI and the credentials it contains.</p>
<p>   The client SHOULD NOT include any third-party scripts (e.g., third-
   party analytics, social plug-ins, ad networks) in the redirection
   endpoint response.  Instead, it SHOULD extract the credentials from
   the URI and redirect the user-agent again to another endpoint without
   exposing the credentials (in the URI or elsewhere).  If third-party
   scripts are included, the client MUST ensure that its own scripts
   (used to extract and remove the credentials from the URI) will
   execute first.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="02-response-type.html" class="navigation navigation-prev " aria-label="Previous page: Response Type">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="04-scope.html" class="navigation navigation-next " aria-label="Next page: Access Token Scope">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Redirection Endpoint","level":"3.2.5.1.2","depth":4,"next":{"title":"Access Token Scope","level":"3.2.5.2","depth":3,"path":"content/endpoints/04-scope.md","ref":"content/endpoints/04-scope.md","articles":[]},"previous":{"title":"Response Type","level":"3.2.5.1.1","depth":4,"path":"content/endpoints/02-response-type.md","ref":"content/endpoints/02-response-type.md","articles":[]},"dir":"ltr"},"config":{"plugins":["numbered-headings","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"numbered-headings":{},"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sidebar":{"Key Bridge Wireless":"http://www.keybridgewireless.com"}},"gitbook":">=3.1.0"},"file":{"path":"content/endpoints/03-redirection.md","mtime":"2017-11-03T18:14:23.894Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-03T13:24:58.013Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

